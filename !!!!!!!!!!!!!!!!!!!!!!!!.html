<!DOCTYPE HTML>
<html>
<head>
<script src="http://code.jquery.com/jquery.js"></script>
<style>
 #move-block {width: 300px; height: 16px; background-color: #e9e9e9; position: absolute; border-radius: 7px; top: 22px; left: 22px}
 #move-move {position: absolute; width: 17px; height: 35px; background-color: #55f; border-radius: 4px; top:-8px; left: 12px; cursor: pointer }
</style>
</head>
<body>
<div id="move">
	<span id='move-block'>
		<span id='move-move'></span>
	</span>
</div>

<script type="text/javascript">
	
	move({elem:$('#move')});

	function move(options) {
		var elem=options.elem;
		elem.on('mousedown', '#move-move', moveSpan);



		function moveSpan(e) {
			$(document).on('mouseup', upMouse);
			$(document).on('mousemove', elem, moveMouse);

			function moveMouse(e) {
				$('#move-move').css('left', e.pageX-22);
			};

			function upMouse(e) {moveMouse=null}
			
		}
	}

</script>


</body>
</html>
